<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8" />
    <title>YOLO ì—…ë¡œë”</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/dropzone/5.9.3/min/dropzone.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/dropzone/5.9.3/min/dropzone.min.css"/>
    <style>
        body { font-family: sans-serif; margin: 40px; }
        .dropzone {
        border: 3px dashed #007bff;
        border-radius: 10px;
        background: #f0f0f0;
        padding: 30px;
        margin-bottom: 20px;
        }
    </style>
    </head>
    <body>
    <h2>ğŸ“¤ YOLO ì´ë¯¸ì§€ + í…ìŠ¤íŠ¸ ì—…ë¡œë” (í”„ë¡ì‹œ ë°©ì‹)</h2>

    <!-- Dropzoneì´ ë¶™ì„ form -->
    <!-- <form action="/upload/direct/?bucket_name=yolo-train" class="dropzone" id="yoloDropzone" method="post" enctype="multipart/form-data"></form> -->
    <form action="/upload/direct" class="dropzone" id="yoloDropzone" method="post" enctype="multipart/form-data"></form>

    <script>
        Dropzone.autoDiscover = false;

        const dz = new Dropzone("#yoloDropzone", {
        paramName: "file",        // FastAPIì—ì„œ ë°›ì„ í•„ë“œëª…
        autoProcessQueue: true,   // ë“œë¡­í•˜ìë§ˆì ì—…ë¡œë“œ
        uploadMultiple: false,    // falseê°€ ë˜ë©´ ì—¬ëŸ¬ íŒŒì¼ ì „ì†¡ ê°€ëŠ¥
        maxFilesize: 50,          // MB
        acceptedFiles: ".jpg,.png,.svg,.txt",
        init: function () {
            this.on("success", function (file, response) {
            console.log("âœ… ì—…ë¡œë“œ ì„±ê³µ:", file.name, response);
            });
            this.on("error", function (file, errorMessage) {
            console.error("âŒ ì—…ë¡œë“œ ì‹¤íŒ¨:", file.name, errorMessage);
            });
        }
        });
    </script>
</body>
</html>
